{"version":3,"sources":["shared/consts.ts","components/Button/Button.tsx","components/Checkbox/Checkbox.tsx","components/EarlyPay/EarlyPay.tsx","components/Input/Input.tsx","components/FormDeduction/FormDeduction.tsx","components/TaxDeduction/TaxDeduction.tsx","components/Main/Main.tsx","components/App/App.tsx","index.tsx"],"names":["ScreenType","Button","isVisibleTitle","onClick","prefix","title","type","className","onEmptyFunc","Checkbox","children","isDisabled","disabled","PREFIX_YEARS","format","deduction","toString","replace","getLabelCheckbox","year","getShortDeductionList","deductionList","cb","length","map","el","EarlyPay","useState","isOpenList","setOpenList","isLongList","isShortList","i","Input","isRequired","name","onChange","placeHolder","id","placeholder","required","MAX_TAX_DEDUCTION","emptyFunc","FormDeduction","setDeductionList","action","htmlFor","evt","salaryInMonth","target","value","taxDeductionInYear","rest","taxDeductionList","taxDeduction","numberOfYear","Array","Math","round","fill","push","getDeductionList","TaxDeduction","onClosePopup","Main","screen","setScreen","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8b67b056.chunk.js","sourcesContent":["export const ScreenType = {\n  Popup: `popup`,\n  Start: `start`,\n};\n","import React from 'react';\n\ntype Props = {\n  className?: string;\n  isVisibleTitle: boolean;\n  onClick: () => void;\n  prefix: string;\n  title: string;\n  type?: 'button' | 'submit' | 'reset';\n}\n\nconst Button: React.FC<Props> = (\n    { isVisibleTitle, onClick, prefix, title, type = 'button', className }: Props\n) => {\n  return (\n    <button\n      className={`button button--${prefix} ${className ? className : ``}`}\n      onClick={onClick}\n      type={type}\n      title={title}\n    >\n      {isVisibleTitle ? title : ``}\n    </button>\n  );\n};\n\nexport default Button;\n","import React from 'react';\n\ntype Props = {\n  children: JSX.Element;\n  isDisabled: boolean;\n  className?: string;\n  onClick?: (evt: React.MouseEvent) => void;\n  prefix?: string;\n  type?: string;\n}\n\nconst onEmptyFunc = () => ``;\n\nconst Checkbox: React.FC<Props> = (\n    { children, isDisabled, className, onClick = onEmptyFunc, prefix, type = `checkbox` }: Props\n) => {\n  return (\n    <label\n      className={`checkbox ${prefix ? `checkbox--${prefix}` : ``} ${className ? `${className}` : ``}`}\n    >\n      {children}\n      <input\n        disabled={isDisabled}\n        className=\"checkbox__input\"\n        onClick={onClick}\n        type={type}\n      />\n      <span className={`checkbox__icon ${prefix ? `checkbox__icon--${prefix}` : ``}`}></span>\n    </label>\n  );\n};\n\nexport default Checkbox;\n","import React, { useState } from 'react';\n\nimport Checkbox from '../Checkbox/Checkbox';\n\ntype Props = {\n  deductionList: number[];\n}\n\nconst PREFIX_YEARS = [\n  `в 1-ый год`,\n  `во 2-ой год`,\n  `в 3-ий год`,\n  `в 4-ый год`,\n  `в 5-ый год`,\n  `в 6-ой год`,\n  `в 7-ой год`,\n  `в 8-ой год`,\n  `в 9-ый год`,\n  `в 10-ый год`,\n  `в 11-ый год`,\n  `в 12-ый год`,\n  `в 13-ый год`,\n  `в 14-ый год`,\n  `в 15-ый год`,\n  `в 16-ый год`,\n  `в 17-ый год`,\n  `в 18-ый год`,\n  `в 19-ый год`,\n];\n\nconst format = (deduction: number) => {\n  return deduction\n  .toString()\n  .replace(/(?!^)(?=(?:\\d{3})+(?:\\.|$))/gm, ' ');\n};\n\nconst getLabelCheckbox = (deduction: number, year: number) => {\n  return (\n    <>\n      <span className=\"checkbox__sum\">\n        {`${format(deduction)} рублей `}\n      </span>\n      <span className=\"checkbox__year\">\n        {PREFIX_YEARS[year]}\n      </span>\n    </>\n  );\n};\n\nconst getShortDeductionList = (deductionList: number[], cb: (evt: React.MouseEvent) => void) => {\n  const penultEl = deductionList.length - 2;\n  const lastEl = deductionList.length - 1;\n\n  const indexes = [0, 1, 2, penultEl, lastEl];\n\n  const shortDeductionList = indexes.map((el) => {\n    if (el === 2) {\n      return (\n        <Checkbox\n          key={el}\n          isDisabled={false}\n          className={`early-pay__checkbox early-pay__checkbox--button`}\n          onClick={cb}\n          prefix={`button-load-more`}\n          type={`button`}\n        >\n          <span>Показать остальные</span>\n        </Checkbox>\n      );\n    }\n\n    return (\n      <Checkbox\n        key={el}\n        isDisabled={false}\n        className={`early-pay__checkbox`}\n      >\n        {getLabelCheckbox(deductionList[el], el)}\n      </Checkbox>\n    );\n  });\n\n  return shortDeductionList;\n};\n\nconst EarlyPay: React.FC<Props> = ({ deductionList }: Props) => {\n  const [isOpenList, setOpenList] = useState(false);\n\n  const isLongList = deductionList.length <= 5 || isOpenList;\n  const isShortList = deductionList.length > 5 && !isOpenList;\n\n  return (\n    <div className=\"early-pay\">\n      <label className=\"early-pay__label\">\n        Итого можете внести в качестве досрочных:\n      </label>\n      {isLongList && (\n        deductionList.map((deduction, i) => {\n          return (\n            <Checkbox\n              key={`${deduction}-${i}`}\n              isDisabled={false}\n              className={`early-pay__checkbox`}\n            >\n              {getLabelCheckbox(deduction, i)}\n            </Checkbox>\n          );\n        })\n      )}\n      {isShortList && (\n        getShortDeductionList(deductionList, () => setOpenList(true))\n      )}\n    </div>\n  );\n};\n\nexport default EarlyPay;\n","import React from 'react';\n\ntype Props = {\n  className?: string;\n  isDisabled?: boolean;\n  isRequired?: boolean;\n  name: string;\n  onChange: (evt: React.ChangeEvent<HTMLInputElement>) => void;\n  prefix?: string;\n  placeHolder?: string;\n  type: string;\n}\n\nconst Input: React.FC<Props> = ({\n  className, isDisabled = false, isRequired = false, name, onChange, placeHolder, prefix, type\n}: Props) => {\n  return (\n    <input\n      className={`input ${prefix ? `input--${prefix}` : ``} ${className ? className : ``}`}\n      disabled={isDisabled}\n      id={name}\n      name={name}\n      onChange={onChange}\n      placeholder={`${placeHolder ? `${placeHolder}` : ``}`}\n      required={isRequired}\n      type={type}\n    />\n  );\n};\n\nexport default Input;\n","import React, { useState } from 'react';\n\nimport Button from '../Button/Button';\nimport EarlyPay from '../EarlyPay/EarlyPay';\nimport Input from '../Input/Input';\n\nconst MAX_TAX_DEDUCTION = 260000;\n\nconst emptyFunc = () => `Empty`;\n\nconst getDeductionList = (taxDeduction: number, rest: number, numberOfYear: number) => {\n\n  const taxDeductionList = new Array(Math.round(numberOfYear)).fill(Math.round(taxDeduction));\n\n  if (rest !== 0) {\n    taxDeductionList.push(Math.round(rest));\n  }\n\n  return taxDeductionList;\n};\n\nconst FormDeduction: React.FC = () => {\n  const [deductionList, setDeductionList] = useState<Array<number>>([]);\n\n  const onChangeInput = (evt: React.ChangeEvent<HTMLInputElement>) => {\n    const salaryInMonth = +evt.target.value;\n\n    if (salaryInMonth < 10000) {\n      setDeductionList([]);\n      return;\n    }\n\n    const taxDeductionInYear = (salaryInMonth * 12) * 0.13;\n    const rest = MAX_TAX_DEDUCTION % taxDeductionInYear;\n    const numberOfYears = (MAX_TAX_DEDUCTION - rest) / taxDeductionInYear;\n    const taxDeductionList = getDeductionList(taxDeductionInYear, rest, numberOfYears);\n\n    setDeductionList(taxDeductionList);\n  };\n\n  return (\n    <form\n      action=\"#\"\n      className=\"form-deduction\"\n    >\n      <label className=\"form-deduction__title\" htmlFor=\"salary\">\n        Ваша зарплата в месяц\n      </label>\n      <Input\n        className={'form-deduction__sum'}\n        isRequired={true}\n        name={'salary'}\n        onChange={onChangeInput}\n        placeHolder={'Введите данные'}\n        type={'number'}\n      />\n\n      {deductionList.length !== 0 && (\n        <EarlyPay\n          deductionList={deductionList}\n        />\n      )}\n\n      <div className=\"form-deduction__container-decrease\">\n        <strong className=\"form-deduction__title\">\n          Что уменьшаем?\n        </strong>\n        <div className=\"form-deduction__group-buttons\">\n          <Button\n            className={`form-deduction__button-pay`}\n            isVisibleTitle={true}\n            onClick={emptyFunc}\n            prefix={`decrease button--decrease-active`}\n            title={`Платёж`}\n          />\n          <Button\n            isVisibleTitle={true}\n            onClick={emptyFunc}\n            prefix={`decrease`}\n            title={`Срок`}\n          />\n        </div>\n      </div>\n      <Button\n        className={`form-deduction__button-submit`}\n        isVisibleTitle={true}\n        onClick={emptyFunc}\n        prefix={`add`}\n        title={`Добавить`}\n        type={`submit`}\n      />\n    </form>\n  );\n};\n\nexport default FormDeduction;\n","import React from 'react';\n\nimport Button from '../Button/Button';\nimport FormDeduction from '../FormDeduction/FormDeduction';\n\ntype Props = {\n  onClosePopup: () => void;\n}\n\nconst TaxDeduction: React.FC<Props> = ({ onClosePopup }: Props) => {\n  return (\n    <section className=\"tax-deduction\">\n      <h1 className=\"tax-deduction__title\">\n        Налоговый вычет\n      </h1>\n      <Button\n        className={`tax-deduction__button-close-popup`}\n        isVisibleTitle={false}\n        onClick={onClosePopup}\n        prefix={`close-popup`}\n        title={`Закрыть попап`}\n      />\n      <p className=\"tax-deduction__description\">\n        Используйте налоговый вычет чтобы погасить ипотеку досрочно.\n        Размер налогового вычета составляет не более 13% от своего официального годового дохода.\n      </p>\n\n      <FormDeduction />\n    </section>\n  );\n};\n\nexport default TaxDeduction;\n","import React, { useState } from 'react';\n\nimport { ScreenType } from '../../shared/consts';\n\nimport Button from '../Button/Button';\nimport TaxDeduction from '../TaxDeduction/TaxDeduction';\n\nconst Main: React.FC = () => {\n\n  const [screen, setScreen] = useState(ScreenType.Start);\n\n  const openPopup = () => {\n    setScreen(ScreenType.Popup);\n  };\n\n  const closePopup = () => {\n    setScreen(ScreenType.Start);\n  };\n\n  return (\n    <div className={`main main--${screen}`}>\n      <div className={`main__wrapper main__wrapper--${screen}`}>\n        {screen === ScreenType.Start && (\n          <Button\n            isVisibleTitle={true}\n            onClick={openPopup}\n            prefix={`open-popup`}\n            title={`Налоговый вычет`}\n          />\n        )}\n        {screen === ScreenType.Popup && (\n          <TaxDeduction\n            onClosePopup={closePopup}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Main;\n","import React from 'react';\n\nimport Main from '../Main/Main';\n\nconst App: React.FC = () => {\n  return (\n    <Main />\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.scss';\nimport App from './components/App/App';\n\nReactDOM.render(\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}